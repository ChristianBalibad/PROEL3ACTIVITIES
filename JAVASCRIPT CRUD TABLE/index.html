<!doctype html>
<html>
<head>
    <title>JavaScript CRUD Table</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script>
        // Add Data
        function addData() {
            var id = document.getElementById("id").value;
            var firstname = document.getElementById("firstname").value;
            var lastname = document.getElementById("lastname").value;
            var email = document.getElementById("email").value;

            if(id === "" || firstname === "" || lastname === "" || email === "") {
                alert("Please fill in all fields!");
                return;
            }

            var table = document.getElementById("_data");
            var row = document.createElement("tr");

            row.innerHTML = `
                <td>${id}</td>
                <td>${firstname}</td>
                <td>${lastname}</td>
                <td>${email}</td>
                <td>
                    <button class="btn btn-warning btn-sm" onclick="editRow(this)">Update</button>
                    <button class="btn btn-danger btn-sm" onclick="deleteRow(this)">Remove</button>
                </td>
            `;

            table.appendChild(row);

            clearInputs();
        }

        // Delete row
        function deleteRow(btn) {
            if(confirm("Are you sure you want to delete this row?")) {
                btn.closest("tr").remove();
            }
        }

        // Edit row
        function editRow(btn) {
            var row = btn.closest("tr");

            document.getElementById("id").value = row.cells[0].innerText;
            document.getElementById("firstname").value = row.cells[1].innerText;
            document.getElementById("lastname").value = row.cells[2].innerText;
            document.getElementById("email").value = row.cells[3].innerText;

            var addBtn = document.getElementById("add");
            addBtn.value = "Save Changes";

            addBtn.onclick = function () {
                row.cells[0].innerText = document.getElementById("id").value;
                row.cells[1].innerText = document.getElementById("firstname").value;
                row.cells[2].innerText = document.getElementById("lastname").value;
                row.cells[3].innerText = document.getElementById("email").value;

                addBtn.value = "Add Data";
                addBtn.onclick = addData;

                clearInputs();
            };
        }

        // Clear input fields
        function clearInputs() {
            document.getElementById("id").value = "";
            document.getElementById("firstname").value = "";
            document.getElementById("lastname").value = "";
            document.getElementById("email").value = "";
        }
    </script>
</head>

<body>
<center>
    <h2 class="mt-3">JavaScript CRUD Table</h2>
    <br/>

    <table cellpadding="10">
        <tr>
            <td><input type="text" class="form-control" id="id" placeholder="ID" style="width:100px"></td>
            <td><input type="text" class="form-control" id="firstname" placeholder="Firstname" style="width:100px"></td>
            <td><input type="text" class="form-control" id="lastname" placeholder="Lastname" style="width:100px"></td>
            <td><input type="text" class="form-control" id="email" placeholder="Email" style="width:150px"></td>
            <td><input type="button" class="btn btn-primary" onclick="addData()" id="add" value="Add Data" style="width:120px"></td>
        </tr>
    </table>

    <br/>

    <table class="table table-dark table-striped-columns" style="width:800px">
        <thead>
            <tr>
                <th>ID</th>
                <th>First</th>
                <th>Last</th>
                <th>Email</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="_data">
            <tr>
                <td>1</td>
                <td>Anchor Jave</td>
                <td>Arnejo</td>
                <td>anchorjave@gmail.com</td>
                <td>
                    <button class="btn btn-warning btn-sm" onclick="editRow(this)">Update</button>
                    <button class="btn btn-danger btn-sm" onclick="deleteRow(this)">Remove</button>
                </td>
            </tr>
            <tr>
                <td>2</td>
                <td>Zessuah Ray</td>
                <td>Nellas</td>
                <td>zessuahray@gmail.com</td>
                <td>
                    <button class="btn btn-warning btn-sm" onclick="editRow(this)">Update</button>
                    <button class="btn btn-danger btn-sm" onclick="deleteRow(this)">Remove</button>
                </td>
            </tr>
        </tbody>
    </table>
</center>
</body>
</html>
